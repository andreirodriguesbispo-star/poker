<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Poker Multiplayer — Simples</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header>
  <div>
    <h1>Poker Multiplayer (celular)</h1>
    <p>
      Todo mundo abre o site no celular, entra na mesma sala e joga por turnos.
      Sem blinds. Tudo-in só com <strong>1.000+</strong> fichas. Pagamento manual pelo host.
    </p>
  </div>
  <div class="pills">
    <span class="pill" id="roomPill">Sala: <strong>—</strong></span>
    <span class="pill" id="potPill">Pote: <strong>0</strong></span>
    <span class="pill" id="turnPill">Vez: <strong>—</strong></span>
    <span class="pill" id="betPill">Aposta da rodada: <strong>0</strong></span>
    <span class="pill" id="callPill">Para cobrir: <strong>—</strong></span>
  </div>
</header>

<main>
  <!-- JOIN -->
  <section class="card" id="joinCard">
    <div class="hd">
      <h2>Entrar na sala</h2>
    </div>
    <div class="bd">
      <div class="grid2">
        <div>
          <label>Código da sala</label>
          <input id="roomCodeInput" type="text" placeholder="ABCD"/>
        </div>
        <div class="row" style="align-items:flex-end;">
          <button class="primary" id="btnJoin">Entrar</button>
          <button class="success" id="btnCreate">Criar sala</button>
        </div>
      </div>

      <hr style="border:none;border-top:1px solid var(--line); margin:14px 0;"/>

      <div class="grid2">
        <div>
          <label>Seu nome</label>
          <input id="nameInput" type="text" placeholder="Ex.: Ícaro"/>
        </div>
        <div>
          <label>Fichas iniciais</label>
          <input id="stackInput" type="number" min="0" step="1" value="1000"/>
        </div>
      </div>
      <div class="row" style="margin-top:10px;">
  <label style="display:flex; align-items:center; gap:8px; font-size:13px;">
    <input type="checkbox" id="autoJoinCheck" checked />
    Entrar automaticamente como jogador
  </label>
</div>

<div class="row" style="margin-top:10px;">
  <button class="primary" id="btnEnter">Entrar como jogador (manual)</button>
</div>


      <div class="err" id="errorBox" style="display:none;"></div>

      <div class="hint" style="margin-top:10px;">
        Dica: 1 pessoa cria a sala e manda o código no grupo. Qualquer pessoa pode controlar início/pagamento.
      </div>
    </div>
  </section>

  <!-- TABLE -->
  <section class="card" id="tableCard" style="display:none;">
    <div class="hd">
      <h2>Mesa</h2>
      <span class="hint" id="myStatus"></span>
    </div>
    <div class="bd">
      <div id="hostControls" style="display:none;">
        <div class="row">
          <button class="primary" id="btnStartRound">Começar rodada</button>
          <button class="warn" id="btnGoPay">Ir para pagamento</button>
          <button id="btnNextRound">Nova rodada</button>
        </div>
        <div class="hint" style="margin-top:8px;">
          Qualquer pessoa pode controlar (com ordem de turno nas ações).
        </div>
        <hr style="border:none;border-top:1px solid var(--line); margin:14px 0;"/>
      </div>

      <div class="card" style="box-shadow:none;">
        <div class="hd"><h2>Jogadores</h2></div>
        <div class="bd">
          <div class="players" id="playersList"></div>
        </div>
      </div>

      <div class="card" style="margin-top:14px; box-shadow:none;" id="actionsBox">
        <div class="hd"><h2>Ações (na sua vez)</h2></div>
        <div class="bd">
          <div class="grid2">
            <div>
              <label>Apostar/Aumentar para (total na rodada)</label>
              <input id="betToInput" type="number" min="0" step="1" placeholder="Ex.: 50"/>
            </div>
            <div class="row" style="align-items:flex-end;">
              <button class="danger" id="btnFold">Desistir</button>
              <button id="btnCheck">Passar</button>
              <button class="success" id="btnCall">Cobrir</button>
            </div>
          </div>
          <div class="row" style="margin-top:10px;">
            <button class="primary" id="btnBet">Apostar/Aumentar</button>
            <button class="warn" id="btnAllIn">Tudo-in</button>
          </div>
          <div class="smallNote" id="allInNote"></div>
        </div>
      </div>

      <div class="card" style="margin-top:14px; box-shadow:none;">
        <div class="hd"><h2>Log</h2></div>
        <div class="bd">
          <div class="log" id="logList"></div>
          <div class="hint" id="emptyLog">Sem ações ainda.</div>
        </div>
      </div>

      <div class="card" style="margin-top:14px; box-shadow:none; display:none;" id="payBox">
        <div class="hd">
          <h2>Pagamento</h2>
          <span class="pill">Pote: <strong id="payPotValue">0</strong></span>
        </div>
        <div class="bd">
          <div class="hint">Digite quanto cada pessoa vai receber. A soma precisa bater o pote.</div>
          <div id="payRows"></div>
          <div class="smallNote" id="paySummary"></div>
          <div class="row" style="margin-top:10px;">
            <button class="primary" id="btnPay">Pagar</button>
          </div>
        </div>
      </div>

    </div>
  </section>
</main>

<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
</body>
</html>
